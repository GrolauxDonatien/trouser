<html>

<body>
    <button id="but1">Toggle List</button>
    <button id="but2">Push Number</button>
    <button id="but3">Pop Number</button>
    <button id="but4">Reverse List</button>
    <ul id="list">
    </ul>
    <p id="hidden">List is not empty, but hidden.</p>
    <p id="empty">List is empty.</p>
    <p id="count"></p>
    <script src="../examples/live.js"></script>

    <script>

        let list = live([1, 2, 3]);
        let show = live(true);
        document.getElementById("but1").addEventListener("click", () => { show.live = !show.live });
        document.getElementById("but2").addEventListener("click", () => { list.live.push(list.live.length + 1) });
        document.getElementById("but3").addEventListener("click", () => { list.live.pop() });
        document.getElementById("but4").addEventListener("click", () => { list.live.reverse() });

        let listEl = live(document.getElementById("list"));

        listEl.mapChildren(
            list,
            "<li></li>",
            (item, el) => {
                el.innerHTML = item;
            }
        )

        live(document.getElementById("count")).innerHTML=live(()=>listEl.children.length+" element(s)");
        live(document.getElementById("hidden")).style.display = live(() => (show.live || list.live.length == 0) ? "none" : "block");
        live(document.getElementById("list")).style.display = live(() => show.live ? "block" : "none");
        live(document.getElementById("empty")).style.display = live(() => list.live.length == 0 ? "block" : "none");


    </script>
</body>

</html>