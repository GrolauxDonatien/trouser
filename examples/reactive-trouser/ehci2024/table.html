<html>

<head>
    <meta charset="utf-8">
</head>

<body>
    <script src="../../live.js"></script>
    <script src="../../trouser.js"></script>
    <script src="table.js"></script>
    <script>
        let data = live([["John", "Snow"], ["Jaime", "Lannister"], ["Ned", "Stark"]]);

        const model = {
            _GRID_,
            header: ["Name", "Surname"],
            vheader: {
                array: data,
                render(_, i) { return "" + (i + 1); }
            },
            body: data,
            footer: [{
                _SPAN_,
                innerHTML() {
                    return "Rows: " + data.live.length;
                }
            }, _COLSPAN_]
        }

        //        document.body.append(build(model));

        data.live.push(["Theon", "Greyjoy"]);

        const trace = build(model, { mode: "trace" });
        console.log(trace);
        const traceModel = build.traceToModel(trace);
        console.log(traceModel);
        document.body.append(build(traceModel));

    </script>
</body>

</html>